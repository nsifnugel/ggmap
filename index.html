<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A collection of functions to visualize spatial data and models
    on top of static maps from various online sources (e.g Google Maps and Stamen
    Maps). It includes tools common to those tasks, including functions for
    geolocation and routing.">
<title>Spatial Visualization with ggplot2 • ggmap</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Open_Sans-0.4.8/font.css" rel="stylesheet">
<link href="deps/Courier_Prime-0.4.8/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Spatial Visualization with ggplot2">
<meta property="og:description" content="A collection of functions to visualize spatial data and models
    on top of static maps from various online sources (e.g Google Maps and Stamen
    Maps). It includes tools common to those tasks, including functions for
    geolocation and routing.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">ggmap</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/Example_Analysis.html">Example Analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jhu-statprogramming-fall-2023/biostat777-project3-part1-nsifnugel/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<!-- badges: end -->
<hr>
<div class="section level1">
<div class="page-header"><h1 id="ggmap">ggmap<a class="anchor" aria-label="anchor" href="#ggmap"></a>
</h1></div>
<div class="section level2">
<h2 id="important-information">Important Information<a class="anchor" aria-label="anchor" href="#important-information"></a>
</h2>
<p>This website was created by Natalia Sifnugel for JHSPH Biostat777 Project 3.</p>
<p>Link to Original GitHub Repository for Package: <a href="https://github.com/dkahle/ggmap" class="external-link uri">https://github.com/dkahle/ggmap</a></p>
<p>Link to Deployed Website: <a href="https://jhu-statprogramming-fall-2023.github.io/biostat777-project3-part1-nsifnugel/index.html" class="uri">https://jhu-statprogramming-fall-2023.github.io/biostat777-project3-part1-nsifnugel/index.html</a></p>
<p>Customized Website Elements:</p>
<ul>
<li>Bootswatch Theme<br>
</li>
<li>Restructured Sidebar</li>
<li>Restructured Footer</li>
<li>Changed Fonts for Header, Base, and Code Text</li>
<li>Customized Navbar Color</li>
</ul>
<p>Original Package Author(s)</p>
<ul>
<li>David Kahle [aut, cre]</li>
<li>Hadley Wickham [aut]</li>
<li>Scott Jackson [aut]</li>
<li>Mikko Korpela [ctb]</li>
<li>Natalia Sifnugel [website]</li>
</ul>
<p>There are many functions included in this package, they can be found under the reference tab of the site!</p>
</div>
<div class="section level2">
<h2 id="goal">Goal<a class="anchor" aria-label="anchor" href="#goal"></a>
</h2>
<p><strong>ggmap</strong> is an R package that makes it easy to retrieve raster map tiles from popular online mapping services like <a href="https://developers.google.com/maps/documentation/maps-static?hl=en" class="external-link">Google Maps</a>, <a href="https://stadiamaps.com/" class="external-link">Stadia Maps</a>, and <a href="https://www.openstreetmap.org/" class="external-link">OpenStreetMap</a>, and plot them using the <a href="https://github.com/tidyverse/ggplot2" class="external-link"><strong>ggplot2</strong></a> framework.</p>
</div>
<div class="section level2">
<h2 id="stadia-maps">Stadia Maps<a class="anchor" aria-label="anchor" href="#stadia-maps"></a>
</h2>
<p>Stadia Maps offers map tiles in several styles, including updated <a href="https://stadiamaps.com/stamen/" class="external-link">tiles from Stamen Design</a>. An API key is required, but no credit card is necessary to <a href="https://client.stadiamaps.com/signup" class="external-link">sign up</a> and there is a free tier for non-commercial use. Once you have your API key, invoke the registration function: <code>register_stadiamaps("YOUR-API-KEY", write = FALSE)</code>. Note that setting <code>write = TRUE</code> will update your <code>~/.Renviron</code> file by replacing/adding the relevant line. If you use the former, know that you’ll need to re-do it every time you reset R.</p>
<p>Your API key is <em>private</em> and unique to you, so be careful not to share it online, for example in a GitHub issue or saving it in a shared R script file. If you share it inadvertently, just go to client.stadiamaps.com, delete your API key, and create a new one.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/jhu-statprogramming-fall-2023/biostat777-project3-part1-nsifnugel" class="external-link">"ggmap"</a></span><span class="op">)</span></span>
<span><span class="co">#  Loading required package: ggplot2</span></span>
<span><span class="co">#  ℹ Google's Terms of Service: &lt;https://mapsplatform.google.com&gt;</span></span>
<span><span class="co">#    Stadia Maps' Terms of Service: &lt;https://stadiamaps.com/terms-of-service/&gt;</span></span>
<span><span class="co">#    OpenStreetMap's Tile Usage Policy: &lt;https://operations.osmfoundation.org/policies/tiles/&gt;</span></span>
<span><span class="co">#  ℹ Please cite ggmap if you use it! Use `citation("ggmap")` for details.</span></span>
<span></span>
<span><span class="va">us</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>left <span class="op">=</span> <span class="op">-</span><span class="fl">125</span>, bottom <span class="op">=</span> <span class="fl">25.75</span>, right <span class="op">=</span> <span class="op">-</span><span class="fl">67</span>, top <span class="op">=</span> <span class="fl">49</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/get_stadiamap.html">get_stadiamap</a></span><span class="op">(</span><span class="va">us</span>, zoom <span class="op">=</span> <span class="fl">5</span>, maptype <span class="op">=</span> <span class="st">"alidade_smooth"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/ggmap.html">ggmap</a></span><span class="op">(</span><span class="op">)</span> </span>
<span><span class="co">#  ℹ © Stadia Maps © Stamen Design © OpenMapTiles © OpenStreetMap contributors.</span></span></code></pre></div>
<p><img src="tools/README-maptypes-1.png"></p>
<p>Use <code><a href="reference/qmplot.html">qmplot()</a></code> in the same way you’d use <code><a href="https://ggplot2.tidyverse.org/reference/qplot.html" class="external-link">qplot()</a></code>, but with a map automatically added in the background:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://dplyr.tidyverse.org" class="external-link">"dplyr"</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://forcats.tidyverse.org/" class="external-link">"forcats"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># define helper</span></span>
<span><span class="va">`%notin%`</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">lhs</span>, <span class="va">rhs</span><span class="op">)</span> <span class="op">!</span><span class="op">(</span><span class="va">lhs</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">rhs</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># reduce crime to violent crimes in downtown houston</span></span>
<span><span class="va">violent_crimes</span> <span class="op">&lt;-</span> <span class="va">crime</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">offense</span> <span class="op">%notin%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"auto theft"</span>, <span class="st">"theft"</span>, <span class="st">"burglary"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/between.html" class="external-link">between</a></span><span class="op">(</span><span class="va">lon</span>, <span class="op">-</span><span class="fl">95.39681</span>, <span class="op">-</span><span class="fl">95.34188</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/between.html" class="external-link">between</a></span><span class="op">(</span><span class="va">lat</span>, <span class="fl">29.73631</span>, <span class="fl">29.78400</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    offense <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_drop.html" class="external-link">fct_drop</a></span><span class="op">(</span><span class="va">offense</span><span class="op">)</span>,</span>
<span>    offense <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_relevel.html" class="external-link">fct_relevel</a></span><span class="op">(</span><span class="va">offense</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"robbery"</span>, <span class="st">"aggravated assault"</span>, <span class="st">"rape"</span>, <span class="st">"murder"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># use qmplot to make a scatterplot on a map</span></span>
<span><span class="fu"><a href="reference/qmplot.html">qmplot</a></span><span class="op">(</span><span class="va">lon</span>, <span class="va">lat</span>, data <span class="op">=</span> <span class="va">violent_crimes</span>, maptype <span class="op">=</span> <span class="st">"stamen_toner_lite"</span>, color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="st">"red"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#  ℹ Using `zoom = 14`</span></span>
<span><span class="co">#  ℹ © Stadia Maps © Stamen Design © OpenMapTiles © OpenStreetMap contributors.</span></span></code></pre></div>
<p><img src="tools/README-qmplot-1.png"></p>
<p>Often <code><a href="reference/qmplot.html">qmplot()</a></code> is easiest because it automatically computes a nice bounding box for you without having to pre-compute it for yourself, get a map, and then use <code>ggmap(map)</code> in place of where you would ordinarily (in a <strong>ggplot2</strong> formulation) use <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot()</a></code>. Nevertheless, doing it yourself is more efficient. In that workflow you get the map first (and you can visualize it with <code><a href="reference/ggmap.html">ggmap()</a></code>):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bbox</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/make_bbox.html">make_bbox</a></span><span class="op">(</span><span class="va">lon</span>, <span class="va">lat</span>, data <span class="op">=</span> <span class="va">violent_crimes</span><span class="op">)</span></span>
<span><span class="va">map</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_stadiamap.html">get_stadiamap</a></span><span class="op">(</span> bbox <span class="op">=</span> <span class="va">bbox</span>, maptype <span class="op">=</span> <span class="st">"stamen_toner_lite"</span>, zoom <span class="op">=</span> <span class="fl">14</span> <span class="op">)</span></span>
<span><span class="co">#  ℹ © Stadia Maps © Stamen Design © OpenMapTiles © OpenStreetMap contributors.</span></span>
<span><span class="fu"><a href="reference/ggmap.html">ggmap</a></span><span class="op">(</span><span class="va">map</span><span class="op">)</span></span></code></pre></div>
<p><img src="tools/README-ggmap-1.png"></p>
<p>And then you layer on geoms/stats as you would with <strong>ggplot2</strong>. The only difference is that (1) you need to specify the <code>data</code> arguments in the layers and (2) the spatial aesthetics <code>x</code> and <code>y</code> are set to <code>lon</code> and <code>lat</code>, respectively. (If they’re named something different in your dataset, just put <code>mapping = aes(x = longitude, y = latitude))</code>, for example.)</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ggmap.html">ggmap</a></span><span class="op">(</span><span class="va">map</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">violent_crimes</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span></code></pre></div>
<p><img src="tools/README-ggmap-layers-1.png"></p>
<p>With <strong>ggmap</strong> you’re working with <strong>ggplot2</strong>, so you can add in other kinds of layers, use <a href="https://patchwork.data-imaginist.com" class="external-link"><strong>patchwork</strong></a>, etc. All the <strong>ggplot2</strong> geom’s are available. For example, you can make a contour plot with <code>geom = "density2d"</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://patchwork.data-imaginist.com" class="external-link">"patchwork"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://jamesotto852.github.io/ggdensity/" class="external-link">"ggdensity"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">robberies</span> <span class="op">&lt;-</span> <span class="va">violent_crimes</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">offense</span> <span class="op">==</span> <span class="st">"robbery"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">points_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ggmap.html">ggmap</a></span><span class="op">(</span><span class="va">map</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">robberies</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># warnings disabled</span></span>
<span><span class="va">hdr_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ggmap.html">ggmap</a></span><span class="op">(</span><span class="va">map</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_hdr</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">lon</span>, <span class="va">lat</span>, fill <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html" class="external-link">after_stat</a></span><span class="op">(</span><span class="va">probs</span><span class="op">)</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">robberies</span>,</span>
<span>    alpha <span class="op">=</span> <span class="fl">.5</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geomtextpath</span><span class="fu">::</span><span class="fu">geom_labeldensity2d</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">lon</span>, <span class="va">lat</span>, level <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html" class="external-link">after_stat</a></span><span class="op">(</span><span class="va">probs</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    data <span class="op">=</span> <span class="va">robberies</span>, stat <span class="op">=</span> <span class="st">"hdr_lines"</span>, size <span class="op">=</span> <span class="fl">3</span>, boxcolour <span class="op">=</span> <span class="cn">NA</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_fill_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"YlOrRd"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span>
<span></span>
<span><span class="op">(</span><span class="va">points_map</span> <span class="op">+</span> <span class="va">hdr_map</span><span class="op">)</span> <span class="op">&amp;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>, axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>, axis.ticks <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="tools/README-ggmap-patchwork-1.png"></p>
<p>Faceting works, too:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ggmap.html">ggmap</a></span><span class="op">(</span><span class="va">map</span>, darken <span class="op">=</span> <span class="fl">.3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">lon</span>, <span class="va">lat</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">violent_crimes</span>, </span>
<span>    shape <span class="op">=</span> <span class="fl">21</span>, color <span class="op">=</span> <span class="st">"gray25"</span>, fill <span class="op">=</span> <span class="st">"yellow"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">offense</span>, nrow <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>, axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>, axis.ticks <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="tools/README-faceting-1.png"></p>
</div>
<div class="section level2">
<h2 id="google-maps">Google Maps<a class="anchor" aria-label="anchor" href="#google-maps"></a>
</h2>
<p><a href="https://cloud.google.com/maps-platform/terms/" class="external-link">Google Maps</a> can be used just as easily. However, since Google Maps use a center/zoom specification, their input is a bit different:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">map</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_googlemap.html">get_googlemap</a></span><span class="op">(</span><span class="st">"waco texas"</span>, zoom <span class="op">=</span> <span class="fl">12</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#  ℹ &lt;https://maps.googleapis.com/maps/api/staticmap?center=waco%20texas&amp;zoom=12&amp;size=640x640&amp;scale=2&amp;maptype=terrain&amp;key=xxx&gt;</span></span>
<span><span class="co">#  ℹ &lt;https://maps.googleapis.com/maps/api/geocode/json?address=waco+texas&amp;key=xxx&gt;</span></span>
<span><span class="co">#  1280x1280 terrain map image from Google Maps; use `ggmap::ggmap()` to plot it.</span></span>
<span><span class="fu"><a href="reference/ggmap.html">ggmap</a></span><span class="op">(</span><span class="va">map</span><span class="op">)</span></span></code></pre></div>
<p><img src="tools/README-google_maps-1.png"></p>
<p>Moreover, you can get various different styles of Google Maps with <strong>ggmap</strong> (just like Stadia Maps):</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_googlemap.html">get_googlemap</a></span><span class="op">(</span><span class="st">"waco texas"</span>, zoom <span class="op">=</span> <span class="fl">12</span>, maptype <span class="op">=</span> <span class="st">"satellite"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/ggmap.html">ggmap</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/get_googlemap.html">get_googlemap</a></span><span class="op">(</span><span class="st">"waco texas"</span>, zoom <span class="op">=</span> <span class="fl">12</span>, maptype <span class="op">=</span> <span class="st">"hybrid"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/ggmap.html">ggmap</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/get_googlemap.html">get_googlemap</a></span><span class="op">(</span><span class="st">"waco texas"</span>, zoom <span class="op">=</span> <span class="fl">12</span>, maptype <span class="op">=</span> <span class="st">"roadmap"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/ggmap.html">ggmap</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Google’s geocoding and reverse geocoding API’s are available through <code><a href="reference/geocode.html">geocode()</a></code> and <code><a href="reference/revgeocode.html">revgeocode()</a></code>, respectively:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/geocode.html">geocode</a></span><span class="op">(</span><span class="st">"1301 S University Parks Dr, Waco, TX 76798"</span><span class="op">)</span></span>
<span><span class="co">#  ℹ &lt;https://maps.googleapis.com/maps/api/geocode/json?address=1301+S+University+Parks+Dr,+Waco,+TX+76798&amp;key=xxx&gt;</span></span>
<span><span class="co">#  # A tibble: 1 × 2</span></span>
<span><span class="co">#      lon   lat</span></span>
<span><span class="co">#    &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#  1 -97.1  31.6</span></span>
<span><span class="fu"><a href="reference/revgeocode.html">revgeocode</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>lon <span class="op">=</span> <span class="op">-</span><span class="fl">97.1161</span>, lat <span class="op">=</span> <span class="fl">31.55098</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#  ℹ &lt;https://maps.googleapis.com/maps/api/geocode/json?latlng=31.55098,-97.1161&amp;key=xxx&gt;</span></span>
<span><span class="co">#  Warning: Multiple addresses found, the first will be returned:</span></span>
<span><span class="co">#  !   1301 S University Parks Dr, Waco, TX 76706, USA</span></span>
<span><span class="co">#  !   55 Baylor Ave, Waco, TX 76706, USA</span></span>
<span><span class="co">#  !   HV2M+9H Waco, TX, USA</span></span>
<span><span class="co">#  !   Bear Trail, Waco, TX 76706, USA</span></span>
<span><span class="co">#  !   Robinson, TX 76706, USA</span></span>
<span><span class="co">#  !   Waco, TX, USA</span></span>
<span><span class="co">#  !   McLennan County, TX, USA</span></span>
<span><span class="co">#  !   Texas, USA</span></span>
<span><span class="co">#  !   United States</span></span>
<span><span class="co">#  [1] "1301 S University Parks Dr, Waco, TX 76706, USA"</span></span></code></pre></div>
<p><em>Note: <code><a href="reference/geocode.html">geocode()</a></code> uses Google’s Geocoding API to geocode addresses. Please take care not to disclose sensitive information. <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8972108/" class="external-link">Rundle, Bader, and Moody (2022)</a> have considered this issue and suggest various alternative options for such data.</em></p>
<p>There is also a <code><a href="reference/geocode.html">mutate_geocode()</a></code> that works similarly to <a href="https://github.com/tidyverse/dplyr/" class="external-link"><strong>dplyr</strong></a>’s <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate()</a></code> function:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>address <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"white house"</span>, <span class="st">""</span>, <span class="st">"waco texas"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="reference/geocode.html">mutate_geocode</a></span><span class="op">(</span><span class="va">address</span><span class="op">)</span></span>
<span><span class="co">#  ℹ &lt;https://maps.googleapis.com/maps/api/geocode/json?address=white+house&amp;key=xxx&gt;</span></span>
<span><span class="co">#  ℹ &lt;https://maps.googleapis.com/maps/api/geocode/json?address=waco+texas&amp;key=xxx&gt;</span></span>
<span><span class="co">#  # A tibble: 3 × 3</span></span>
<span><span class="co">#    address         lon   lat</span></span>
<span><span class="co">#    &lt;chr&gt;         &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#  1 "white house" -77.0  38.9</span></span>
<span><span class="co">#  2 ""             NA    NA  </span></span>
<span><span class="co">#  3 "waco texas"  -97.1  31.5</span></span></code></pre></div>
<p>Treks use Google’s routing API to give you routes (<code><a href="reference/route.html">route()</a></code> and <code><a href="reference/trek.html">trek()</a></code> give slightly different results; the latter hugs roads):</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trek_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/trek.html">trek</a></span><span class="op">(</span><span class="st">"houson, texas"</span>, <span class="st">"waco, texas"</span>, structure <span class="op">=</span> <span class="st">"route"</span><span class="op">)</span></span>
<span><span class="co">#  ℹ &lt;https://maps.googleapis.com/maps/api/directions/json?origin=houson,+texas&amp;destination=waco,+texas&amp;key=xxx&amp;mode=driving&amp;alternatives=false&amp;units=metric&gt;</span></span>
<span><span class="fu"><a href="reference/qmap.html">qmap</a></span><span class="op">(</span><span class="st">"college station, texas"</span>, zoom <span class="op">=</span> <span class="fl">8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_path</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">lon</span>, y <span class="op">=</span> <span class="va">lat</span><span class="op">)</span>,  colour <span class="op">=</span> <span class="st">"blue"</span>,</span>
<span>    size <span class="op">=</span> <span class="fl">1.5</span>, alpha <span class="op">=</span> <span class="fl">.5</span>,</span>
<span>    data <span class="op">=</span> <span class="va">trek_df</span>, lineend <span class="op">=</span> <span class="st">"round"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#  ℹ &lt;https://maps.googleapis.com/maps/api/staticmap?center=college%20station,%20texas&amp;zoom=8&amp;size=640x640&amp;scale=2&amp;maptype=terrain&amp;language=en-EN&amp;key=xxx&gt;</span></span>
<span><span class="co">#  ℹ &lt;https://maps.googleapis.com/maps/api/geocode/json?address=college+station,+texas&amp;key=xxx&gt;</span></span>
<span><span class="co">#  Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.</span></span>
<span><span class="co">#  ℹ Please use `linewidth` instead.</span></span>
<span><span class="co">#  This warning is displayed once every 8 hours.</span></span>
<span><span class="co">#  Call `lifecycle::last_lifecycle_warnings()` to see where this warning was</span></span>
<span><span class="co">#  generated.</span></span></code></pre></div>
<p><img src="tools/README-route_trek-1.png"></p>
<p>(They also provide information on how long it takes to get from point A to point B.)</p>
<p>Map distances, in both length and anticipated time, can be computed with <code><a href="reference/mapdist.html">mapdist()</a></code>). Moreover the function is vectorized:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/mapdist.html">mapdist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"houston, texas"</span>, <span class="st">"dallas"</span><span class="op">)</span>, <span class="st">"waco, texas"</span><span class="op">)</span></span>
<span><span class="co">#  ℹ &lt;https://maps.googleapis.com/maps/api/distancematrix/json?origins=dallas&amp;destinations=waco,+texas&amp;key=xxx&amp;mode=driving&gt;</span></span>
<span><span class="co">#  ℹ &lt;https://maps.googleapis.com/maps/api/distancematrix/json?origins=houston,+texas&amp;destinations=waco,+texas&amp;key=xxx&amp;mode=driving&gt;</span></span>
<span><span class="co">#  # A tibble: 2 × 9</span></span>
<span><span class="co">#    from           to               m    km miles seconds minutes hours mode   </span></span>
<span><span class="co">#    &lt;chr&gt;          &lt;chr&gt;        &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  </span></span>
<span><span class="co">#  1 dallas         waco, texas 155265  155.  96.5    5303    88.4  1.47 driving</span></span>
<span><span class="co">#  2 houston, texas waco, texas 298224  298. 185.    10217   170.   2.84 driving</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="google-maps-api-key">Google Maps API key<a class="anchor" aria-label="anchor" href="#google-maps-api-key"></a>
</h2>
<p>A few years ago Google has <a href="https://developers.google.com/maps/documentation/geocoding/usage-and-billing" class="external-link">changed its API requirements</a>, and <strong>ggmap</strong> users are now required to register with Google. From a user’s perspective, there are essentially three ramifications of this:</p>
<ol style="list-style-type: decimal">
<li><p>Users must register with Google. You can do this at <a href="https://mapsplatform.google.com" class="external-link uri">https://mapsplatform.google.com</a>. While it will require a valid credit card (sorry!), there seems to be a fair bit of free use before you incur charges, and even then the charges are modest for light use.</p></li>
<li><p>Users must enable the APIs they intend to use. What may appear to <strong>ggmap</strong> users as one overarching “Google Maps” product, Google in fact has several services that it provides as geo-related solutions. For example, the <a href="https://developers.google.com/maps/documentation/maps-static/overview" class="external-link">Maps Static API</a> provides map images, while the <a href="https://developers.google.com/maps/documentation/geocoding/overview" class="external-link">Geocoding API</a> provides geocoding and reverse geocoding services. Apart from the relevant Terms of Service, generally <strong>ggmap</strong> users don’t need to think about the different services. For example, you just need to remember that <code><a href="reference/get_googlemap.html">get_googlemap()</a></code> gets maps, <code><a href="reference/geocode.html">geocode()</a></code> geocodes (with Google, DSK is done), etc., and <strong>ggmap</strong> handles the queries for you. <em>However</em>, you do need to enable the APIs before you use them. You’ll only need to do that once, and then they’ll be ready for you to use. Enabling the APIs just means clicking a few radio buttons on the Google Maps Platform web interface listed above, so it’s easy.</p></li>
<li><p>Inside R, after loading the new version of <strong>ggmap</strong>, you’ll need provide <strong>ggmap</strong> with your API key, a <a href="https://en.wikipedia.org/wiki/Hash_function" class="external-link">hash value</a> (think string of jibberish) that authenticates you to Google’s servers. This can be done on a temporary basis with <code>register_google(key = "[your key]")</code> or permanently using <code>register_google(key = "[your key]", write = TRUE)</code> (note: this will overwrite your <code>~/.Renviron</code> file by replacing/adding the relevant line). If you use the former, know that you’ll need to re-do it every time you reset R.</p></li>
</ol>
<p>Your API key is <em>private</em> and unique to you, so be careful not to share it online, for example in a GitHub issue or saving it in a shared R script file. If you share it inadvertantly, just get on Google’s website and regenerate your key - this will retire the old one. Keeping your key private is made a bit easier by <strong>ggmap</strong> scrubbing the key out of queries by default, so when URLs are shown in your console, they’ll look something like <code>key=xxx</code>. (Read the details section of the <code><a href="reference/register_google.html">register_google()</a></code> documentation for a bit more info on this point.)</p>
<p>The new version of <strong>ggmap</strong> is now on CRAN soon, but you can install the latest version, including an important bug fix in <code><a href="reference/mapdist.html">mapdist()</a></code>, here with:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"dkahle/ggmap"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<ul>
<li><p>From CRAN: <code>install.packages("ggmap")</code></p></li>
<li><p>From Github:</p></li>
</ul>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"dkahle/ggmap"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>

  </main><aside class="col-md-3"><div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=ggmap" class="external-link"><img src="https://www.r-pkg.org/badges/version/ggmap" alt="CRAN status"></a></li>
<li><a href="https://ci.appveyor.com/project/dkahle/ggmap" class="external-link"><img src="https://ci.appveyor.com/api/projects/status/github/dkahle/ggmap?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>David Kahle <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-9999-1558" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Hadley Wickham <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-4757-117X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Scott Jackson <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2" class="external-link">GPL-2</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ggmap</a></li>
</ul>
</div>

<div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=ggmap" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/jhu-statprogramming-fall-2023/biostat777-project3-part1-nsifnugel/" class="external-link">Browse source code</a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Website Developed by Natalia Sifnugel</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
